#!/usr/bin/env bash

set -u # error on undefined variable
set -e # stop execution if one command goes wrong

F="$(basename "$0")"
usage()
{
  echo "USAGE
  
    $F


SUMMARY



DESCRIPTION



INSTALL UBUNTU

    sudo aptitude install

TIPS



CAVEATS



OUTPUT



SIDE EFFECT



EXAMPLE

    $F

TODO


AUTHOR

  Ciro Duran Santilli
" 1>&2
}

#check and install dependencies
CMD=
PKG=
if -n which "$CMD" &> /dev/null; then
  echo "$CMD
not found. To install on Ubuntu: 
  sudo apt-get install $PKG
" 1>&2
  exit 1
fi

CMD=
URL=
if -n which "$CMD" &> /dev/null; then
  echo $CMD'
not found. To install:
  INPATH=~/bin
  OUT=$INPATH/'$CMD'
  wget -nc -O "$OUT" "'$URL'" && \
  chmod +x \"\$OUT\"
' 1>&2
fi

#optional args
FLAG=false
IPATH="./"
OPATH="./"

while getopts hi:o: OPT; do
  case "$OPT" in
    f)
      FLAG=true
      ;;
    h)
      usage
      exit 0
      ;;
    i)
      IPATH=$OPTARG
      ;;
    o)
      OPATH=$OPTARG
      ;;
    \?)
      usage
      exit 2
      ;;
  esac
done

shift `expr $OPTIND - 1`

#obligatory positional args
if [ $# -gt 0 ]; then
  ="$1"
  shift
else
  usage
  exit 2
fi

#positional args with default
if [ $# -gt 0 ]; then
  ="$1"
  shift
else
  =
fi

#there must be no args left
if [ $# -gt 0 ]; then
  usage
  exit 2
fi

#there must still be args left: undefined number
if [ $# -eq 0 ]; then
  usage
  exit 2
fi

for in "$@"; do

done

exit 0
