#!/usr/bin/env bash

#------------------------------------------------------------
#
# Ciro D. Santilli 
#
# Removes files terminated by '~' in current dir.
#
#------------------------------------------------------------

set -u # error on undefined variable
set -e # stop execution if one command goes wrong

usage()
{
  echo 'Usage: remove-backup-files'
}

# fixed nargs checking
if [ $# -ne 0 ]
then
  usage
  exit 1
else
  find . -maxdepth 1 -type f -name '*~' -print0 | xargs -0 -I '{}' rm '{}' +
  exit 0
fi